var editing_item=null,item_name="Role",item_names="Roles",deleted_id=null,channel_arr=[],page_datatable=null;_current_page=1;var Page_script=function(){return{init:function(){}}}(),getSectionByPosition=function(n,a){var e=null;return $(n).each(function(n,o){a==o.position&&(e=o)}),e},reload_form=function(n){var a=1,e=0;for(e=0;e<=n.dataArr.length-1;e++){var o=getSectionByPosition(n.dataArr,e);for(0==e&&$(".landing_0_image_1").attr("src",getSectionByPosition(o.arrImage,1).value),a=1;a<=o.arrText.length;a++)$(".landing_"+e+"_sub_"+a).length>0&&("INPUT"==$(".landing_"+e+"_sub_"+a).prop("tagName")&&$(".landing_"+e+"_sub_"+a).val(getSectionByPosition(o.arrText,a).value),"TEXTAREA"==$(".landing_"+e+"_sub_"+a).prop("tagName")&&$(".landing_"+e+"_sub_"+a).html(getSectionByPosition(o.arrText,a).value));for(a=1;a<=o.arrImage.length;a++)$(".landing_"+e+"_image_"+a).length>0&&($(".landing_"+e+"_image_"+a).attr("src",getSectionByPosition(o.arrImage,a).value),$(".landing_"+e+"_image_"+a+"_hidden").val(getSectionByPosition(o.arrImage,a).value));for(a=1;a<=o.arrButton.length;a++)if($(".landing_"+e+"_button_"+a+"_text").length>0){var t=JSON.parse(getSectionByPosition(o.arrButton,a).value);$(".landing_"+e+"_button_"+a+"_text").val(t.title),$(".landing_"+e+"_button_"+a+"_action").val(t.action)}}},reload_form_metadata=function(n){$(".meta_sub_1").val(n.dataObj.title),$(".meta_sub_2").val(n.dataObj.description),$(".meta_sub_3").val(n.dataObj.url),$(".meta_image_1_hidden").val(n.dataObj.image),$(".meta_image_1").attr("src",n.dataObj.image)},load_page=function(){$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}}),$.ajax({url:base_request_url+"/admin/metadata",type:"GET",beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?reload_form_metadata(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})};jQuery(document).ready(function(){Page_script.init(),load_page(),$(".btn_submit_section_meta").click(function(){""==$(".meta_file_1").val()?$(".meta_file_1").attr("name",""):$(".meta_file_1").attr("name","file");var n=new FormData($(".form_section_meta")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/metadata",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/admin/metadata",type:"GET",beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?reload_form_metadata(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").hide()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})}),$(".btn_submit_section_0").click(function(){$(".landing_0_sub_1_hidden").val('{"position":"1","value":"'+$(".landing_0_sub_1").val()+'"}'),""==$(".landing_0_file_1").val()?$(".landing_0_file_1").attr("name",""):$(".landing_0_image_1_hidden").attr("name","");var n=new FormData($(".form_section_0")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/updateLandingage",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").hide()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})}),$(".btn_submit_section_1").click(function(){$(".landing_1_sub_1_hidden").val('{"position":"1","value":"'+$(".landing_1_sub_1").val()+'"}'),$(".landing_1_sub_2_hidden").val('{"position":"2","value":"'+$(".landing_1_sub_2").val()+'"}'),""==$(".landing_1_file_1").val()?$(".landing_1_file_1").attr("name",""):$(".landing_1_image_1_hidden").attr("name",""),$(".landing_1_button_1_hidden").val('{"position":"1","value":{"title":"'+$(".landing_1_button_1_text").val()+'","action":"'+$(".landing_1_button_1_action").val()+'"}}');var n=new FormData($(".form_section_1")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/updateLandingage",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").hide()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})}),$(".btn_submit_section_2").click(function(){for(var n=1;n<=8;n++)$(".landing_2_sub_"+n+"_hidden").val('{"position":"'+n+'","value":"'+$(".landing_2_sub_"+n).val()+'"}');var a=new FormData($(".form_section_2")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/updateLandingage",type:"POST",data:a,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").hide()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})}),$(".btn_submit_section_3").click(function(){var n=1;for(n=1;n<=12;n++)$(".landing_3_sub_"+n+"_hidden").val('{"position":"'+n+'","value":"'+$(".landing_3_sub_"+n).val()+'"}');""==$(".landing_3_file_1").val()?$(".landing_3_file_1").attr("name",""):$(".landing_3_image_1_hidden").attr("name","");var a=new FormData($(".form_section_3")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/updateLandingage",type:"POST",data:a,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").hide()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})}),$(".btn_submit_section_4").click(function(){$(".landing_4_sub_1_hidden").val('{"position":"1","value":"'+$(".landing_4_sub_1").val()+'"}'),$(".landing_4_sub_2_hidden").val('{"position":"2","value":"'+$(".landing_4_sub_2").val()+'"}'),""==$(".landing_4_file_1").val()?$(".landing_4_file_1").attr("name",""):$(".landing_4_image_1_hidden").attr("name",""),""==$(".landing_4_file_2").val()?$(".landing_4_file_2").attr("name",""):$(".landing_4_image_2_hidden").attr("name",""),""==$(".landing_4_file_3").val()?$(".landing_4_file_3").attr("name",""):$(".landing_4_image_3_hidden").attr("name","");var n=new FormData($(".form_section_4")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/updateLandingage",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").show()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})}),$(".btn_submit_section_5").click(function(){$(".landing_5_sub_1_hidden").val('{"position":"1","value":"'+$(".landing_5_sub_1").val()+'"}'),$(".landing_5_sub_2_hidden").val('{"position":"2","value":"'+$(".landing_5_sub_2").val()+'"}'),$(".landing_5_button_1_hidden").val('{"position":"1","value":{"title":"'+$(".landing_5_button_1_text").val()+'","action":"'+$(".landing_5_button_1_action").val()+'"}}'),$(".landing_5_button_2_hidden").val('{"position":"2","value":{"title":"'+$(".landing_5_button_2_text").val()+'","action":"'+$(".landing_5_button_2_action").val()+'"}}');var n=new FormData($(".form_section_5")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/updateLandingage",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").hide()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})}),$(".btn_submit_section_6").click(function(){$(".landing_6_sub_1_hidden").val('{"position":"1","value":"'+$(".landing_6_sub_1").val()+'"}'),$(".landing_6_sub_2_hidden").val('{"position":"2","value":"'+$(".landing_6_sub_2").val()+'"}'),$(".landing_6_sub_3_hidden").val('{"position":"3","value":"'+$(".landing_6_sub_3").val()+'"}'),$(".landing_6_sub_4_hidden").val('{"position":"4","value":"'+$(".landing_6_sub_4").val()+'"}');var n=new FormData($(".form_section_6")[0]);$(".loading_icon").show(),$.ajax({url:base_request_url+"/admin/updateLandingage",type:"POST",data:n,cache:!1,contentType:!1,processData:!1,beforeSend:function(n){n.setRequestHeader("Authorization","bearer "+_user_data.access_token)},success:function(n){"Success"==n.onlyMessage?(show_toast_notif("success","Successfully","Saved",function(){}),$.ajax({url:base_request_url+"/anonymous/landingpage",type:"GET",success:function(n){"Success"==n.onlyMessage?reload_form(n):show_toast_notif("error","Fail to load landing page data","Error",function(){})},error:function(n){show_toast_notif("error","Fail to load landing page data","Error '"+n.responseText+"'",function(){})}})):show_toast_notif("error","Fail","Error",function(){}),$(".loading_icon").hide()},error:function(n){$(".loading_icon").hide(),show_toast_notif("error","Fail","Error '"+n.responseText+"'",function(){})}})})});